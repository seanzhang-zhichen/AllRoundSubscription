# 搜索功能页面

## 功能概述

搜索页面 (`pages/search/search.vue`) 实现了完整的博主搜索功能，包括：

## 主要功能

### 1. 搜索功能
- ✅ 搜索框输入关键词搜索博主
- ✅ 防抖处理，避免频繁请求
- ✅ 搜索结果实时展示
- ✅ 支持搜索历史记录

### 2. 平台筛选
- ✅ 支持多平台筛选（微信公众号、微博、Twitter）
- ✅ 平台图标和颜色标识
- ✅ 显示各平台搜索结果数量
- ✅ 支持全部平台和单平台筛选

### 3. 搜索历史
- ✅ 自动保存搜索历史（最多20条）
- ✅ 点击历史记录快速搜索
- ✅ 支持删除单个历史记录
- ✅ 支持清空所有历史记录

### 4. 搜索结果展示
- ✅ 博主头像、名称、简介展示
- ✅ 关注者数量格式化显示
- ✅ 平台标识徽章
- ✅ 订阅/取消订阅功能
- ✅ 分页加载更多结果

### 5. 状态处理
- ✅ 加载状态显示
- ✅ 无搜索结果提示
- ✅ 网络错误处理和重试
- ✅ 默认状态引导

### 6. 用户交互
- ✅ 登录状态检查
- ✅ 订阅权限验证
- ✅ 友好的错误提示
- ✅ 响应式设计适配

## 技术实现

### 状态管理
- 使用 `useSearchStore` 管理搜索状态
- 使用 `useAppStore` 管理搜索历史和平台信息
- 使用 `useSubscriptionStore` 管理订阅操作
- 使用 `useAuthStore` 管理用户认证状态

### 组件结构
```
SearchPage
├── 搜索头部 (search-header)
│   └── 搜索框 (search-box)
├── 平台筛选 (platform-filter)
│   └── 平台列表 (platform-list)
├── 搜索历史 (search-history)
│   ├── 历史标题 (history-header)
│   └── 历史列表 (history-list)
├── 搜索结果 (search-results)
│   ├── 结果统计 (results-header)
│   ├── 结果列表 (results-list)
│   └── 加载更多 (load-more)
├── 空状态组件 (Empty)
└── 默认状态 (default-state)
```

### API 接口
- `GET /api/v1/search/accounts` - 搜索博主
- `GET /api/v1/search/platforms` - 获取支持的平台列表
- `GET /api/v1/search/suggestions` - 获取搜索建议（可选）

### 样式特点
- 响应式设计，适配不同屏幕尺寸
- 现代化 UI 设计，圆角卡片风格
- 平台色彩标识，提升用户体验
- 流畅的交互动画和状态反馈

## 使用方法

1. 在搜索框输入关键词
2. 点击搜索按钮或按回车键执行搜索
3. 使用平台筛选器过滤结果
4. 点击博主卡片查看详情
5. 点击订阅按钮进行订阅操作
6. 上拉加载更多搜索结果

## 依赖要求

- Vue 3 + Composition API
- Pinia 状态管理
- UniApp 框架
- 后端搜索 API 支持

## 注意事项

- 搜索功能需要网络连接
- 订阅操作需要用户登录
- 图片资源需要实际的 PNG 文件替换占位符
- 需要后端 API 支持搜索功能